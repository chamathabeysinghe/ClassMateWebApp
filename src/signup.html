<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
  <title>Sign Up</title>
  <!-- Favicon-->
  <link rel="icon" href="public/favicon.ico" type="image/x-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,700&subset=latin,cyrillic-ext" rel="stylesheet"
        type="text/css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" type="text/css">

  <!-- Bootstrap Core Css -->
  <link href="public/plugins/bootstrap/css/bootstrap.css" rel="stylesheet">

  <!-- Waves Effect Css -->
  <link href="public/plugins/node-waves/waves.css" rel="stylesheet"/>

  <!-- Animation Css -->
  <link href="public/plugins/animate-css/animate.css" rel="stylesheet"/>

  <!-- Custom Css -->
  <link href="public/css/style.css" rel="stylesheet">
</head>

<body class="signup-page ls-closed">
<div class="signup-box">
  <div class="logo">
    <a href="javascript:void(0);">Class<b>MATE</b></a>
    <small>Educational Service Provider</small>
  </div>
  <div class="card">
    <div class="body">
      <form id="sign_up" method="POST" novalidate="novalidate">
        <div class="msg">Register a new membership</div>
        <div class="hide alert alert-danger" id="error-message">
          <strong>Oh snap!</strong> Error.try submitting again.
        </div>
        <div class="input-group">
                        <span class="input-group-addon">
                            <i class="material-icons">person</i>
                        </span>
          <div class="form-line">
            <input type="text" class="form-control" name="namefirstname" id="namefirstname" placeholder="First Name" required=""
                   autofocus="" aria-required="true">
          </div>
        </div>
        <div class="input-group">
                        <span class="input-group-addon">
                            <i class="material-icons">person</i>
                        </span>
          <div class="form-line">
            <input type="text" class="form-control" name="namesurname" id="namesurname" placeholder="Name Surname" required=""
                   autofocus="" aria-required="true">
          </div>
        </div>
        <div class="input-group">
                        <span class="input-group-addon">
                            <i class="material-icons">email</i>
                        </span>
          <div class="form-line">
            <input type="email" class="form-control" id="email" name="email" placeholder="Email Address" required=""
                   aria-required="true">
          </div>
        </div>
        <div class="demo-radio-button">
          <input value="teacher" id="teacher" name="account-type" type="radio" checked="">
          <label for="teacher">Teacher</label>
          <input value="student" id="student" name="account-type" type="radio">
          <label for="student">Student</label>

        </div>
        <div class="input-group">
                        <span class="input-group-addon">
                            <i class="material-icons">lock</i>
                        </span>
          <div class="form-line">
            <input type="password" id="password" class="form-control" name="password" minlength="6" placeholder="Password" required=""
                   aria-required="true">
          </div>
        </div>

        <button class="btn btn-block btn-lg bg-pink waves-effect" id="submitButton">SIGN UP</button>

      </form>
    </div>
  </div>
</div>


<!-- Jquery Core Js -->
<script src="public/plugins/jquery/jquery.min.js"></script>

<!-- Bootstrap Core Js -->
<script src="public/plugins/bootstrap/js/bootstrap.js"></script>

<!-- Waves Effect Plugin Js -->
<script src="public/plugins/node-waves/waves.js"></script>

<!-- Validation Plugin Js -->
<script src="public/plugins/jquery-validation/jquery.validate.js"></script>

<!-- Custom Js -->
<script src="public/js/admin.js"></script>
<script src="public/js/pages/examples/sign-in.js"></script>
<script>
  $('#submitButton').click(function (event) {
    event.preventDefault();
    console.log("Button clicked");
    var firstName=$('#namefirstname').val();
    var lastName=$('#namesurname').val();
    var accountType=$('input[name=account-type]:checked').val();
    var email = $('#email').val();
    var password = $('#password').val();

    $.ajax({
      type: "POST",
      url: "http://localhost:3000/api/sign-up",
      data: JSON.stringify({firstName:firstName,lastName:lastName,accountType:accountType,email: email, password: password}),
      contentType: "application/json; charset=utf-8",
      dataType: "json",
      success: function (data) {

        window.location.replace("http://localhost:4200/login.html");
        $('#error-message').addClass('hide');
      },
      error: function (error) {
        console.log(error);
        $('#error-message').removeClass('hide');
      }

    })
  })

</script>
</body>

</html>
